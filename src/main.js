require(['MazeGen','lib/underscore-min'],
function(MazeGen) {
    var mapw = 100,
        maph = 50,
        tilesize = 15;

    MazeGen.setSize(mapw,maph);
    MazeGen.setRooms([
    [
      [' ',' ',' ',' ','W','+','W','+','W',' '],
      ['W','W','W','W','W','f','f','f','W','W'],
      ['+','f','f','f','f','f','f','f','f','W'],
      ['W','f','f','f','f','f','f','f','f','W'],
      ['W','f','f','f','f','f','f','f','f','W'],
      ['W','f','f','f','f','f','f','f','f','W'],
      ['W','f','f','f','f','f','f','f','f','+'],
      ['W','f','f','f','f','f','f','f','f','W'],
      ['W','f','f','f','f','f','f','f','f','W'],
      ['W','f','f','f','f','f','f','f','f','W'],
      ['W','f','f','f','f','f','f','f','f','+'],
      ['+','f','W','f','f','f','f','f','f','W'],
      ['W','W','W','f','f','f','f','f','W','W'],
      [' ',' ','W','+','W','W','W','+','W',' ']
    ],
    [
      [' ',' ',' ',' ',' ',' ',' ',' ','W','+','W','W','W',' '],
      [' ',' ',' ','W','+','W','W','W','W','f','f','f','W',' '],
      [' ',' ',' ','W','f','f','f','f','f','f','f','f','W','W'],
      [' ',' ',' ','+','f','f','f','f','f','f','f','f','f','+'],
      [' ',' ',' ','W','f','f','f','f','f','f','f','f','W','W'],
      [' ',' ',' ','W','f','f','f','f','f','f','f','f','W',' '],
      [' ',' ',' ','W','W','f','f','f','f','f','f','f','W','W'],
      [' ',' ',' ',' ','W','f','f','f','f','f','f','f','f','W'],
      [' ',' ',' ','W','W','f','f','f','f','f','f','f','f','+'],
      [' ',' ',' ','W','f','f','f','f','f','f','f','f','f','W'],
      ['W','W','+','W','f','f','f','f','f','f','f','f','W','W'],
      ['+','f','f','f','f','f','f','f','f','f','f','f','W',' '],
      ['W','W','W','f','f','f','f','f','f','f','f','f','W','W'],
      [' ',' ','W','W','f','f','f','f','f','f','f','f','f','W'],
      [' ',' ',' ','+','f','f','f','f','f','f','f','f','f','+'],
      [' ',' ',' ','W','W','+','W','W','W','f','f','f','W','W'],
      [' ',' ',' ',' ',' ',' ',' ',' ','W','W','+','W','W',' ']
    ],
    [
      [' ','W','+','W','W','W','+','W',' '],
      [' ','W','f','f','f','f','f','W',' '],
      ['W','W','f','f','f','f','f','W','W'],
      ['W','f','f','f','f','f','f','f','W'],
      ['W','f','f','f','f','f','f','f','W'],
      ['+','f','f','f','f','f','f','f','+'],
      ['W','f','f','f','f','f','f','f','W'],
      ['W','f','f','f','f','f','f','f','W'],
      ['W','f','f','f','f','f','f','f','W'],
      ['W','f','f','f','f','f','f','f','W'],
      ['W','f','f','f','f','f','f','f','W'],
      ['+','f','f','f','f','f','f','f','W'],
      ['W','W','W','f','f','f','W','W','W'],
      [' ',' ','W','+','W','+','W',' ',' ']
    ],
    [
      ['W','+','W','+','W',' ',' ',' ',' ',' ',' ',' '],
      ['W','f','f','f','W',' ',' ',' ',' ',' ',' ',' '],
      ['+','f','f','f','W',' ',' ',' ',' ',' ',' ',' '],
      ['W','f','f','f','W',' ',' ',' ','W','+','W','W'],
      ['+','f','f','f','W',' ',' ',' ','W','f','f','+'],
      ['W','f','f','f','f','W','W','W','f','f','f','W'],
      [' ','W','f','f','f','f','f','f','f','f','W','W'],
      [' ',' ','W','f','f','f','f','f','W',' ',' ',' '],
      [' ',' ','+','f','f','f','f','f','W',' ',' ',' '],
      [' ',' ','W','f','f','f','f','f','+',' ',' ',' '],
      [' ',' ','W','f','f','f','f','f','W',' ',' ',' '],
      [' ',' ','W','f','f','f','f','f','W',' ',' ',' '],
      [' ',' ','W','f','f','f','f','f','W',' ',' ',' '],
      [' ',' ','W','f','f','f','f','f','W',' ',' ',' '],
      [' ','W','f','f','f','f','f','f','f','W',' ',' '],
      [' ','+','f','f','f','W','W','W','f','f','W',' '],
      [' ','W','+','W',' ',' ',' ','W','f','f','W',' '],
      [' ',' ',' ',' ',' ',' ','W','f','f','f','W',' '],
      [' ',' ',' ',' ',' ','W','f','f','f','f','W','W'],
      [' ',' ',' ',' ',' ','W','f','f','f','f','f','+'],
      [' ',' ',' ',' ',' ','W','+','W','W','W','W','W']
    ]]);

    MazeGen.generate();
    $('#map').append(MazeGen.toHTML());
    $('#map').width(mapw*tilesize);
});
